 ================class 18======================


$ kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d

(Watch live class recording for demonstration)

Grafana and Prometheus
=======================

Observability
============
In DevOps, observability is referred to the tools and methodologies that help Dev and Ops teams to log, collect and analyze performance data to get insights

Monitor
Logs
Alerts


Grafana
=======
Grafana is built on the principle that data should be accessible to everyone in your org and Grafana helps to facilitate a culture where data can easily used helping to break down data and empower teams for decision making

It will give you a dashboard where we can visualize the data from your k8s cluster or diff cloud services or even from google sheets 

Grafana = Visualization

Prometheus
===========
Prometheus is an open source tool for monitoring and alerting systems. It collects and store metrics overtime and can be used to monitor app or servers.

K8S Cluster Monitoring --> Grafana --> Prometheus

(Make sure helm is also installed)
Install Metric Server

kubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml

Install Prometheus

helm repo add prometheus-community https://prometheus-community.github.io/helm-charts

helm install my-prometheus prometheus-community/prometheus --version 27.40.1

kubectl create namespace prometheus

helm install prometheus prometheus-community/kube-prometheus-stack --namespace prometheus --set prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.storageClassName="gp2" --set alertmanager.alertmanagerSpec.storage.volumeClaimTemplate.spec.storageClassName="gp2"

Install Grafana

helm repo add grafana https://grafana.github.io/helm-charts

helm install grafana grafana/grafana --namespace grafana3 --set persistence.enabled=true --set persistence.storageClassName="gp3" --set adminPassword='Root123456' --set service.type=LoadBalancer

kubectl create namespace grafana4

helm install my-grafana grafana/grafana --namespace grafana4 --version 10.1.0 --set adminPassword='Root123456' --set service.type=LoadBalancer

EFK (Elasticsearch , Fluentd and Kibana)
=========================================
Fluentd collects these (pods) logs, forwards them to Elastic Search for storage and Kibana is used to create dashboard showing logs, error rates, api response time, pod specific issues which will help to trouble shoot and resolve issues.

EFK stack provides centralised logging in order to identify problems with servers or applications. It will help us to reach to search all the logs in a single place

















